# ‡∏™‡∏ñ‡∏≤‡∏õ‡∏±‡∏ï‡∏¢‡∏Å‡∏£‡∏£‡∏°‡∏£‡∏∞‡∏ö‡∏ö (Architecture)

‡∏£‡∏∞‡∏ö‡∏ö‡∏ô‡∏µ‡πâ‡∏ñ‡∏π‡∏Å‡∏≠‡∏≠‡∏Å‡πÅ‡∏ö‡∏ö‡πÄ‡∏õ‡πá‡∏ô **Mini SIEM Platform** ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡πÄ‡∏Å‡πá‡∏ö‡∏£‡∏ß‡∏ö‡∏£‡∏ß‡∏° (ingest), ‡∏à‡∏±‡∏î‡πÄ‡∏Å‡πá‡∏ö (store), ‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå (analyze) ‡πÅ‡∏•‡∏∞‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô (alert) ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏´‡∏ï‡∏∏‡∏Å‡∏≤‡∏£‡∏ì‡πå‡∏Ñ‡∏ß‡∏≤‡∏°‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢ (security events) ‡∏à‡∏≤‡∏Å‡∏´‡∏•‡∏≤‡∏¢‡πÅ‡∏´‡∏•‡πà‡∏á ‡πÇ‡∏î‡∏¢‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÅ‡∏ö‡∏ö **multi-tenant** 

---

## üéØ ‡∏´‡∏•‡∏±‡∏Å‡∏Å‡∏≤‡∏£‡∏≠‡∏≠‡∏Å‡πÅ‡∏ö‡∏ö
1. **‡πÅ‡∏¢‡∏Å‡∏™‡πà‡∏ß‡∏ô‡∏õ‡∏£‡∏∞‡∏Å‡∏≠‡∏ö‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô** ‚Üí Backend (API + Logic), Frontend (Dashboard), Ingest (‡∏£‡∏±‡∏ö Logs), Database  
2. **‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö Multi-tenant** ‚Üí ‡∏ó‡∏∏‡∏Å Log ‡∏ó‡∏µ‡πà‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏à‡∏∞‡∏°‡∏µ `tenant` ‡∏Å‡∏≥‡∏Å‡∏±‡∏ö ‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÅ‡∏¢‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤/‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ  
3. **Alerting ‡πÅ‡∏ö‡∏ö Rule-based** ‚Üí ‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏Ç‡∏á‡πà‡∏≤‡∏¢‡πÜ ‡πÄ‡∏ä‡πà‡∏ô "Login Failures > 5 ‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏à‡∏≤‡∏Å IP ‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ô‡πÉ‡∏ô 5 ‡∏ô‡∏≤‡∏ó‡∏µ"  
4. **Retention Policy** ‚Üí ‡∏•‡∏ö Logs ‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡πà‡∏≤‡∏Å‡∏ß‡πà‡∏≤ 7 ‡∏ß‡∏±‡∏ô (‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡πÑ‡∏î‡πâ)  
5. **‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á‡∏á‡πà‡∏≤‡∏¢** ‚Üí ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏ó‡∏±‡πâ‡∏á Appliance (docker-compose) ‡πÅ‡∏•‡∏∞ SaaS (cloud-native)  

---

## üõ† ‡∏™‡πà‡∏ß‡∏ô‡∏õ‡∏£‡∏∞‡∏Å‡∏≠‡∏ö‡∏´‡∏•‡∏±‡∏Å
- **Frontend** ‚Üí React Dashboard (Tailwind + shadcn/ui) ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏î‡∏π‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÅ‡∏•‡∏∞‡∏ö‡∏£‡∏¥‡∏´‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£  
- **Backend API** ‚Üí Node.js/Express ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•, Auth (JWT), Alert Engine  
- **Ingest Layer** ‚Üí ‡∏£‡∏±‡∏ö Logs ‡πÑ‡∏î‡πâ‡∏´‡∏•‡∏≤‡∏¢‡∏ä‡πà‡∏≠‡∏á‡∏ó‡∏≤‡∏á:
  - Syslog (UDP/TCP 514)  
  - REST API (`/ingest`)  
  - Agent script (Python/ Shell)  
- **Database** ‚Üí Postgres (‡πÄ‡∏Å‡πá‡∏ö Logs, Users, Alerts, Tenants)  
- **Alerting** ‚Üí Rule-based Engine (‡∏ï‡∏£‡∏ß‡∏à pattern + ‡∏™‡πà‡∏á Email/Webhook)  

---

## üîÄ Data Flow

+---------------------+       +-----------------+
| Firewall / EDR /    |       |  Cloud (AWS,    |
| Syslog Sources      |-----> |  Microsoft 365) |
+---------------------+       +-----------------+
              |                        |
              +--------> Ingest Layer <+
                          (Syslog, API)
                                 |
                           Normalization
                                 |
                          +---------------+
                          |   Database    |
                          +---------------+
                             |         |
                             |         +--> Alert Engine --> Email/Webhook
                             |
                         Backend API
                             |
                        Frontend Dashboard


### mermaid
flowchart LR
    FW[Firewall / EDR / Cloud / M365] -->|Syslog / API| IN[Ingest Layer]
    IN --> NORM[Normalization]
    NORM --> DB[(Database)]
    DB --> API[Backend API]
    API --> FE[Frontend Dashboard]
    API --> ALERT[Alert Engine]
    ALERT -->|Email/Webhook| USER[Security Analyst]


## Multi-tenant Model

‡∏ï‡∏≤‡∏£‡∏≤‡∏á logs ‡∏°‡∏µ‡∏ü‡∏¥‡∏•‡∏î‡πå tenant (varchar) ‡∏ó‡∏∏‡∏Å‡πÅ‡∏ñ‡∏ß ‚Üí ‡πÉ‡∏ä‡πâ‡πÅ‡∏¢‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Ç‡∏≠‡∏á‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏≠‡∏á‡∏Ñ‡πå‡∏Å‡∏£

‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ (users) ‡∏à‡∏∞‡∏ú‡∏π‡∏Å‡∏Å‡∏±‡∏ö tenant ‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏´‡∏£‡∏∑‡∏≠‡∏´‡∏•‡∏≤‡∏¢ tenant

Query / Dashboard ‡∏à‡∏∞‡∏Å‡∏£‡∏≠‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ï‡∏≤‡∏° tenant ‡∏Ç‡∏≠‡∏á‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡πÄ‡∏™‡∏°‡∏≠

‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ï‡∏≤‡∏£‡∏≤‡∏á logs

| id | tenant  | message                   | severity | timestamp           | status   |
| -- | ------- | ------------------------- | -------- | ------------------- | -------- |
| 1  | tenantA | Failed login from 1.1.1.1 | 5        | 2025-09-22 10:15:00 | new      |
| 2  | tenantB | Firewall blocked port 22  | 3        | 2025-09-22 10:17:20 | resolved |
